(function(a){try{if(window.com.ginpen.gpObserveText){return}}catch(b){}if(!window.com){window.com={}}if(!com.ginpen){com.ginpen={}}var c=com.ginpen.gpObserveText={VERSION:"1.0",settings:{interval:100},exec:function(d,e,g){if(e&&this._isCommand(e)){var f=e;this.runCommand(d,f,g)}else{this.startObserving(d);d.bind("textchange",e)}},_isCommand:function(d){return !a.isFunction(d)},runCommand:function(d,f,e){switch(f){case"destroy":this.stopObserving(d);break;case"set":this.setValue(d,e);break}},startObserving:function(d){if(this._isObserved(d)){return}d.data("gpObserveText.lastValue",d.val());this._observe(d)},_observe:function(d){d.data("gpObserveText.timer",setTimeout(function(){if(c._isChanged(d)){c._fire(d)}if(c._isObserved(d)){c._observe(d)}},c.settings.interval))},_isObserved:function(d){return !!d.data("gpObserveText.timer")},stopObserving:function(d){clearTimeout(d.data("gpObserveText.timer"));d.removeData("gpObserveText.timer");d.removeData("gpObserveText.lastValue")},_isChanged:function(d){return d.val()!=d.data("gpObserveText.lastValue")},_fire:function(d){var e=d.val();d.trigger("textchange",d.data("gpObserveText.lastValue"));d.data("gpObserveText.lastValue",e)},setValue:function(d,e){d.data("gpObserveText.lastValue",e).val(e)},banpei:null};a.fn.gpObserveText=function(d,e){return this.each(function(f,g){c.exec(a(g),d,e)})};a.fn.gpObserveText.settings=c.settings}(jQuery));